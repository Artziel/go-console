
<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>go-console: Go Coverage Report</title>
		<style>
			body {
				background: black;
				color: rgb(80, 80, 80);
			}
			body, pre, #legend span {
				font-family: Menlo, monospace;
				font-weight: bold;
			}
			#topbar {
				background: black;
				position: fixed;
				top: 0; left: 0; right: 0;
				height: 42px;
				border-bottom: 1px solid rgb(80, 80, 80);
			}
			#content {
				margin-top: 50px;
			}
			#nav, #legend {
				float: left;
				margin-left: 10px;
			}
			#legend {
				margin-top: 12px;
			}
			#nav {
				margin-top: 10px;
			}
			#legend span {
				margin: 0 5px;
			}
			.cov0 { color: rgb(192, 0, 0) }
.cov1 { color: rgb(128, 128, 128) }
.cov2 { color: rgb(116, 140, 131) }
.cov3 { color: rgb(104, 152, 134) }
.cov4 { color: rgb(92, 164, 137) }
.cov5 { color: rgb(80, 176, 140) }
.cov6 { color: rgb(68, 188, 143) }
.cov7 { color: rgb(56, 200, 146) }
.cov8 { color: rgb(44, 212, 149) }
.cov9 { color: rgb(32, 224, 152) }
.cov10 { color: rgb(20, 236, 155) }

		</style>
	</head>
	<body>
		<div id="topbar">
			<div id="nav">
				<select id="files">
				
				<option value="file0">github.com/artziel/go-console/bash.go (0.0%)</option>
				
				<option value="file1">github.com/artziel/go-console/colors.go (100.0%)</option>
				
				<option value="file2">github.com/artziel/go-console/command.go (71.6%)</option>
				
				<option value="file3">github.com/artziel/go-console/components.go (0.0%)</option>
				
				<option value="file4">github.com/artziel/go-console/confirm_component.go (0.0%)</option>
				
				<option value="file5">github.com/artziel/go-console/decorators.go (0.0%)</option>
				
				<option value="file6">github.com/artziel/go-console/root.go (44.0%)</option>
				
				<option value="file7">github.com/artziel/go-console/samples/command/command.go (0.0%)</option>
				
				<option value="file8">github.com/artziel/go-console/samples/spinner/spinner.go (0.0%)</option>
				
				<option value="file9">github.com/artziel/go-console/select_component.go (0.0%)</option>
				
				<option value="file10">github.com/artziel/go-console/spinner_component.go (0.0%)</option>
				
				<option value="file11">github.com/artziel/go-console/tests.go (96.7%)</option>
				
				<option value="file12">github.com/artziel/go-console/utilities.go (0.0%)</option>
				
				</select>
			</div>
			<div id="legend">
				<span>not tracked</span>
			
				<span class="cov0">not covered</span>
				<span class="cov8">covered</span>
			
			</div>
		</div>
		<div id="content">
		
		<pre class="file" id="file0" style="display: none">package GoConsole

import (
        "bytes"
        "fmt"
        "os/exec"
        "strings"
)

type ShellCommand struct {
        // Public
        Description string

        // Private
        log string
        cmd string
}

func (c *ShellCommand) GetLog() string <span class="cov0" title="0">{
        return c.log
}</span>

func (c *ShellCommand) parseCommand() []string <span class="cov0" title="0">{
        quoted := false
        a := strings.FieldsFunc(c.cmd, func(r rune) bool </span><span class="cov0" title="0">{
                if r == '"' </span><span class="cov0" title="0">{
                        quoted = !quoted
                }</span>
                <span class="cov0" title="0">return !quoted &amp;&amp; r == ' '</span>
        })
        <span class="cov0" title="0">return a</span>
}

func (c *ShellCommand) Exec() bool <span class="cov0" title="0">{
        var (
                outb, errb bytes.Buffer
                success    bool = true
                cmd        *exec.Cmd
        )

        execCMD := c.parseCommand()

        if len(execCMD) &gt; 1 </span><span class="cov0" title="0">{
                cmd = exec.Command(execCMD[0], execCMD[1:]...)
        }</span> else<span class="cov0" title="0"> {
                cmd = exec.Command(execCMD[0])
        }</span>

        <span class="cov0" title="0">cmd.Stdout = &amp;outb
        cmd.Stderr = &amp;errb
        err := cmd.Run()
        if err != nil </span><span class="cov0" title="0">{
                success = false
                c.log = c.log + fmt.Sprintf(
                        "Command \"%s\" Execution FAIL\n%s\n%s\nERROR: %s\n",
                        c.Description,
                        strings.Repeat("-", 60),
                        errb.String(),
                        err,
                )
        }</span>

        <span class="cov0" title="0">return success</span>
}

func NewShellCommand(cmd string, description string) ShellCommand <span class="cov0" title="0">{
        return ShellCommand{
                Description: description,
                cmd:         cmd,
        }
}</span>
</pre>
		
		<pre class="file" id="file1" style="display: none">package GoConsole

import (
        "regexp"
        "strings"
)

const (
        Reset = "\033[0m"

        Red    = "\033[31m"
        Green  = "\033[32m"
        Yellow = "\033[33m"
        Blue   = "\033[34m"
        Purple = "\033[35m"
        Cyan   = "\033[36m"
        White  = "\033[37m"

        RedUnderlined    = "\033[4;31m"
        GreenUnderlined  = "\033[4;32m"
        YellowUnderlined = "\033[4;33m"
        BlueUnderlined   = "\033[4;34m"
        PurpleUnderlined = "\033[4;35m"
        CyanUnderlined   = "\033[4;36m"
        WhiteUnderlined  = "\033[4;37m"

        RedBoldUnderlined    = "\033[1;4;31m"
        GreenBoldUnderlined  = "\033[1;4;32m"
        YellowBoldUnderlined = "\033[1;4;33m"
        BlueBoldUnderlined   = "\033[1;4;34m"
        PurpleBoldUnderlined = "\033[1;4;35m"
        CyanBoldUnderlined   = "\033[1;4;36m"
        WhiteBoldUnderlined  = "\033[1;4;37m"
)

func Colored(str string) string <span class="cov8" title="1">{
        tags := []string{
                "error",
                "warning",
                "info",
                "success",

                "green", "green underline", "green bold", "green bold underline", "green underline bold",
                "red", "red underline", "red bold", "red bold underline", "red underline bold",
                "cyan", "cyan underline", "cyan bold", "cyan bold underline", "cyan underline bold",
                "yellow", "yellow underline", "yellow bold", "yellow bold underline", "yellow underline bold",
                "blue", "blue underline", "blue bold", "blue bold underline", "blue underline bold",
                "purple", "purple underline", "purple bold", "purple bold underline", "purple underline bold",
                "white", "white underline", "white bold", "white bold underline", "white underline bold",
        }
        formatted := str

        for _, t := range tags </span><span class="cov8" title="1">{
                switch t </span>{
                case "error":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", Red, -1)</span>
                case "warning":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", Yellow, -1)</span>
                case "info":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", Blue, -1)</span>
                case "success":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", Green, -1)</span>

                case "red":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", Red, -1)</span>
                case "green":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", Green, -1)</span>
                case "yellow":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", Yellow, -1)</span>
                case "cyan":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", Cyan, -1)</span>
                case "blue":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", Blue, -1)</span>
                case "purple":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", Purple, -1)</span>
                case "white":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", White, -1)</span>

                case "red underline":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", RedUnderlined, -1)</span>
                case "green underline":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", GreenUnderlined, -1)</span>
                case "yellow underline":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", YellowUnderlined, -1)</span>
                case "cyan underline":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", CyanUnderlined, -1)</span>
                case "blue underline":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", BlueUnderlined, -1)</span>
                case "purple underline":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", PurpleUnderlined, -1)</span>
                case "white underline":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", WhiteUnderlined, -1)</span>

                case "red bold":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", RedUnderlined, -1)</span>
                case "green bold":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", GreenUnderlined, -1)</span>
                case "yellow bold":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", YellowUnderlined, -1)</span>
                case "cyan bold":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", CyanUnderlined, -1)</span>
                case "blue bold":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", BlueUnderlined, -1)</span>
                case "purple bold":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", PurpleUnderlined, -1)</span>
                case "white bold":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", WhiteUnderlined, -1)</span>

                case "red bold underline":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", RedBoldUnderlined, -1)</span>
                case "red underline bold":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", RedBoldUnderlined, -1)</span>
                case "green bold underline":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", GreenBoldUnderlined, -1)</span>
                case "green underline bold":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", GreenBoldUnderlined, -1)</span>
                case "yellow bold underline":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", YellowBoldUnderlined, -1)</span>
                case "yellow underline bold":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", YellowBoldUnderlined, -1)</span>
                case "cyan bold underline":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", CyanBoldUnderlined, -1)</span>
                case "cyan underline bold":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", CyanBoldUnderlined, -1)</span>
                case "blue bold underline":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", BlueBoldUnderlined, -1)</span>
                case "blue underline bold":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", BlueBoldUnderlined, -1)</span>
                case "purple bold underline":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", PurpleBoldUnderlined, -1)</span>
                case "purple underline bold":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", PurpleBoldUnderlined, -1)</span>
                case "white bold underline":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", WhiteBoldUnderlined, -1)</span>
                case "white underline bold":<span class="cov8" title="1">
                        formatted = strings.Replace(formatted, "&lt;"+t+"&gt;", WhiteBoldUnderlined, -1)</span>
                }
        }
        <span class="cov8" title="1">reset := regexp.MustCompile(`&lt;/(blue|green|red|yellow|purple|cyan|white|error|warning|success|bold|undeline)&gt;`)
        formatted = reset.ReplaceAllString(formatted, Reset)
        return formatted</span>
}
</pre>
		
		<pre class="file" id="file2" style="display: none">package GoConsole

import (
        "errors"
        "flag"
        "reflect"
        "strings"

        Util "github.com/artziel/go-utilities"
)

type fieldTags struct {
        Name  string
        Usage string
}

type Command struct {

        // Public
        RootRequired bool
        RootExcluded bool
        Name         string
        Help         string
        Example      string

        Flags interface{}

        Init func() error
        Run  func(f interface{}) error

        // Privated
        flagSet *flag.FlagSet
}

func (c *Command) Execute(args []string) error <span class="cov8" title="1">{

        isRoot, _ := Util.IsRoot()
        if c.RootExcluded &amp;&amp; isRoot </span><span class="cov0" title="0">{
                return ErrSubCommandRootExcluded
        }</span>

        <span class="cov8" title="1">if c.RootRequired &amp;&amp; !isRoot </span><span class="cov0" title="0">{
                return ErrSubCommandRootRequired
        }</span>

        <span class="cov8" title="1">if err := c.parseStruct(c.Flags, args); err != nil </span><span class="cov0" title="0">{
                return err
        }</span>
        <span class="cov8" title="1">return c.Run(c.Flags)</span>
}

func (c *Command) parseTags(tags string) (fieldTags, error) <span class="cov8" title="1">{
        ft := fieldTags{}
        tags = strings.TrimSpace(tags)

        if len(tags) == 0 </span><span class="cov0" title="0">{
                return ft, ErrTagNoFieldTag
        }</span>

        <span class="cov8" title="1">name := "GoConsole:"
        res := strings.Index(tags, name)
        if res &lt; 0 </span><span class="cov0" title="0">{
                return ft, ErrTagNoFieldTag
        }</span>
        <span class="cov8" title="1">tags = tags[res+len(name):]
        if len(tags) == 0 </span><span class="cov0" title="0">{
                return ft, ErrTagEmptyFieldTag
        }</span>

        <span class="cov8" title="1">res = strings.Index(tags, "\"")
        if res &lt; 0 </span><span class="cov0" title="0">{
                return ft, ErrTagEmptyFieldTag
        }</span>
        <span class="cov8" title="1">tags = tags[res+1:]

        res = strings.Index(tags, "\"")
        if res &lt; 0 </span><span class="cov0" title="0">{
                return ft, ErrTagEmptyFieldTag
        }</span>
        <span class="cov8" title="1">tags = strings.TrimSpace(tags[:res])
        if len(tags) &lt; 1 </span><span class="cov0" title="0">{
                return ft, ErrTagEmptyFieldTag
        }</span>
        <span class="cov8" title="1">options := strings.Split(tags, ",")

        if len(options) == 0 </span><span class="cov0" title="0">{
                return ft, ErrTagEmptyFieldTag
        }</span>

        <span class="cov8" title="1">for _, o := range options </span><span class="cov8" title="1">{
                pair := strings.SplitN(o, ":", 2)
                key := strings.ToLower(strings.TrimSpace(pair[0]))
                val := ""
                if len(pair) &gt; 1 </span><span class="cov8" title="1">{
                        val = strings.TrimSpace(pair[1])
                }</span>

                <span class="cov8" title="1">switch key </span>{
                case "name":<span class="cov8" title="1">
                        ft.Name = val</span>
                case "usage":<span class="cov8" title="1">
                        ft.Usage = val</span>
                }
        }

        <span class="cov8" title="1">return ft, nil</span>
}

func (c *Command) parseStruct(r interface{}, args []string) error <span class="cov8" title="1">{

        if reflect.ValueOf(r).Type().Kind() != reflect.Ptr </span><span class="cov0" title="0">{
                return ErrWrongFalgsType
        }</span>

        <span class="cov8" title="1">if r == nil </span><span class="cov0" title="0">{
                return nil
        }</span>

        <span class="cov8" title="1">s := reflect.Indirect(reflect.ValueOf(r))
        kind := s.Kind().String()

        if kind != "struct" </span><span class="cov0" title="0">{
                return errors.New("flag are not an struct")
        }</span>

        <span class="cov8" title="1">mStr := map[string]*string{}
        mBool := map[string]*bool{}
        mInt := map[string]*int{}
        c.flagSet = flag.NewFlagSet(c.Name, flag.ContinueOnError)

        for i := 0; i &lt; s.NumField(); i++ </span><span class="cov8" title="1">{
                tags, err := c.parseTags(string(s.Type().Field(i).Tag))
                if err == nil </span><span class="cov8" title="1">{
                        f := s.Field(i)
                        switch f.Kind() </span>{
                        case reflect.String:<span class="cov8" title="1">
                                val := f.String()
                                mStr[s.Type().Field(i).Name] = &amp;val
                                c.flagSet.StringVar(mStr[s.Type().Field(i).Name], tags.Name, val, tags.Usage)</span>
                        case reflect.Bool:<span class="cov8" title="1">
                                val := f.Bool()
                                mBool[s.Type().Field(i).Name] = &amp;val
                                c.flagSet.BoolVar(mBool[s.Type().Field(i).Name], tags.Name, val, tags.Usage)</span>
                        case reflect.Int, reflect.Int8, reflect.Int16, reflect.Int32, reflect.Int64:<span class="cov8" title="1">
                                val := int(f.Int())
                                mInt[s.Type().Field(i).Name] = &amp;val
                                c.flagSet.IntVar(mInt[s.Type().Field(i).Name], tags.Name, val, tags.Usage)</span>
                        }
                }
        }

        <span class="cov8" title="1">err := c.flagSet.Parse(args)
        if err != nil </span><span class="cov0" title="0">{
                return err
        }</span>

        <span class="cov8" title="1">for i := 0; i &lt; s.NumField(); i++ </span><span class="cov8" title="1">{
                f := s.Field(i)
                switch f.Kind() </span>{
                case reflect.String:<span class="cov8" title="1">
                        if _, found := mStr[s.Type().Field(i).Name]; found </span><span class="cov8" title="1">{
                                f.SetString(*mStr[s.Type().Field(i).Name])
                        }</span>
                case reflect.Bool:<span class="cov8" title="1">
                        if _, found := mBool[s.Type().Field(i).Name]; found </span><span class="cov8" title="1">{
                                f.SetBool(*mBool[s.Type().Field(i).Name])
                        }</span>
                case reflect.Int, reflect.Int8, reflect.Int16, reflect.Int32, reflect.Int64:<span class="cov8" title="1">
                        if _, found := mInt[s.Type().Field(i).Name]; found </span><span class="cov8" title="1">{
                                v := *mInt[s.Type().Field(i).Name]
                                f.SetInt(int64(v))
                        }</span>
                }
        }

        <span class="cov8" title="1">return nil</span>
}

func (c *Command) GetHelp() string <span class="cov0" title="0">{
        help := c.Help + "\n"
        if c.Example != "" </span><span class="cov0" title="0">{
                help = help + "\n    Example: " + c.Example + "\n\n"

        }</span>

        <span class="cov0" title="0">if c.Flags != nil </span><span class="cov0" title="0">{
                s := reflect.Indirect(reflect.ValueOf(c.Flags))
                kind := s.Kind().String()

                if kind != "struct" </span><span class="cov0" title="0">{
                        return ""
                }</span>

                <span class="cov0" title="0">for i := 0; i &lt; s.NumField(); i++ </span><span class="cov0" title="0">{
                        tags, err := c.parseTags(string(s.Type().Field(i).Tag))
                        if err == nil </span><span class="cov0" title="0">{
                                help = help + Colored("&lt;blue&gt;    -"+tags.Name) + ": " + tags.Usage + "&lt;/blue&gt;\n"
                        }</span>
                }
        }

        <span class="cov0" title="0">return help</span>
}
</pre>
		
		<pre class="file" id="file3" style="display: none">package GoConsole

import "time"

func Spinner01() *Spinner <span class="cov0" title="0">{
        spinner := Spinner{
                delay: time.Millisecond * 100,
                Frames: []string{
                        "⣾",
                        "⣽",
                        "⣻",
                        "⢿",
                        "⡿",
                        "⣟",
                        "⣯",
                        "⣷",
                },
        }

        return &amp;spinner
}</span>

func Spinner02() *Spinner <span class="cov0" title="0">{
        chars := "⡀⡁⡂⡃⡄⡅⡆⡇⡈⡉⡊⡋⡌⡍⡎⡏⡐⡑⡒⡓⡔⡕⡖⡗⡘⡙⡚⡛⡜⡝⡞⡟⡠⡡⡢⡣⡤⡥⡦⡧⡨⡩⡪⡫⡬⡭⡮⡯⡰⡱⡲⡳⡴⡵⡶⡷⡸⡹⡺⡻⡼⡽⡾⡿⢀⢁⢂⢃⢄⢅⢆⢇⢈⢉⢊⢋⢌⢍⢎⢏⢐⢑⢒⢓⢔⢕⢖⢗⢘⢙⢚⢛⢜⢝⢞⢟⢠⢡⢢⢣⢤⢥⢦⢧⢨⢩⢪⢫⢬⢭⢮⢯⢰⢱⢲⢳⢴⢵⢶⢷⢸⢹⢺⢻⢼⢽⢾⢿⣀⣁⣂⣃⣄⣅⣆⣇⣈⣉⣊⣋⣌⣍⣎⣏⣐⣑⣒⣓⣔⣕⣖⣗⣘⣙⣚⣛⣜⣝⣞⣟⣠⣡⣢⣣⣤⣥⣦⣧⣨⣩⣪⣫⣬⣭⣮⣯⣰⣱⣲⣳⣴⣵⣶⣷⣸⣹⣺⣻⣼⣽⣾⣿"

        frames := []string{}
        for _, c := range chars </span><span class="cov0" title="0">{
                frames = append(frames, string(c))
        }</span>

        <span class="cov0" title="0">spinner := Spinner{
                delay:  time.Millisecond * 100,
                Frames: frames,
        }

        return &amp;spinner</span>
}

func Spinner03() *Spinner <span class="cov0" title="0">{
        chars := "⋮⋰⋯⋱"

        frames := []string{}
        for _, c := range chars </span><span class="cov0" title="0">{
                frames = append(frames, string(c))
        }</span>

        <span class="cov0" title="0">spinner := Spinner{
                delay:  time.Millisecond * 100,
                Frames: frames,
        }

        return &amp;spinner</span>
}

func Spinner04() *Spinner <span class="cov0" title="0">{
        chars := "▙▛▜▟"

        frames := []string{}
        for _, c := range chars </span><span class="cov0" title="0">{
                frames = append(frames, string(c))
        }</span>

        <span class="cov0" title="0">spinner := Spinner{
                delay:  time.Millisecond * 100,
                Frames: frames,
        }

        return &amp;spinner</span>
}

func Spinner05() *Spinner <span class="cov0" title="0">{
        chars := "◢◣◤◥"

        frames := []string{}
        for _, c := range chars </span><span class="cov0" title="0">{
                frames = append(frames, string(c))
        }</span>

        <span class="cov0" title="0">spinner := Spinner{
                delay:  time.Millisecond * 100,
                Frames: frames,
        }

        return &amp;spinner</span>
}

func Spinner06() *Spinner <span class="cov0" title="0">{
        chars := "◜◝◞◟"

        frames := []string{}
        for _, c := range chars </span><span class="cov0" title="0">{
                frames = append(frames, string(c))
        }</span>

        <span class="cov0" title="0">spinner := Spinner{
                delay:  time.Millisecond * 100,
                Frames: frames,
        }

        return &amp;spinner</span>
}

func Spinner07() *Spinner <span class="cov0" title="0">{
        chars := "⬖⬘⬗⬙"

        frames := []string{}
        for _, c := range chars </span><span class="cov0" title="0">{
                frames = append(frames, string(c))
        }</span>

        <span class="cov0" title="0">spinner := Spinner{
                delay:  time.Millisecond * 100,
                Frames: frames,
        }

        return &amp;spinner</span>
}

func Spinner08() *Spinner <span class="cov0" title="0">{
        chars := "⬒⬔⬓⬕"

        frames := []string{}
        for _, c := range chars </span><span class="cov0" title="0">{
                frames = append(frames, string(c))
        }</span>

        <span class="cov0" title="0">spinner := Spinner{
                delay:  time.Millisecond * 100,
                Frames: frames,
        }

        return &amp;spinner</span>
}

func Spinner09() *Spinner <span class="cov0" title="0">{
        chars := "⯀⯁⯂⬢⯃⯄⬢⯂⯁"

        frames := []string{}
        for _, c := range chars </span><span class="cov0" title="0">{
                frames = append(frames, string(c))
        }</span>

        <span class="cov0" title="0">spinner := Spinner{
                delay:  time.Millisecond * 100,
                Frames: frames,
        }

        return &amp;spinner</span>
}
</pre>
		
		<pre class="file" id="file4" style="display: none">package GoConsole

import (
        "fmt"
        "strings"
)

type ConfirmOption struct {
        Label string
        Value string
}

type ConfirmComponent struct {
        Yes ConfirmOption
        No  ConfirmOption
}

func (c ConfirmComponent) Request() bool <span class="cov0" title="0">{
        options := fmt.Sprintf(Colored("&lt;green&gt;%v&lt;/green&gt; / &lt;yellow&gt;%v&lt;/yellow&gt;: "), c.Yes.Label, c.No.Label)
        fmt.Print(options)

        for </span><span class="cov0" title="0">{
                var input string
                fmt.Scanln(&amp;input)
                value := strings.ToLower(input)

                if value == strings.ToLower(c.Yes.Value) </span><span class="cov0" title="0">{
                        return true
                }</span> else<span class="cov0" title="0"> if value == strings.ToLower(c.No.Value) </span><span class="cov0" title="0">{
                        return false
                }</span> else<span class="cov0" title="0"> {
                        fmt.Print(options)
                }</span>
        }
}

func NewConfirm(yes ConfirmOption, no ConfirmOption) ConfirmComponent <span class="cov0" title="0">{
        c := ConfirmComponent{
                Yes: yes,
                No:  no,
        }

        return c
}</span>
</pre>
		
		<pre class="file" id="file5" style="display: none">package GoConsole

import (
        "fmt"
        "strings"
)

func Hr(width int) <span class="cov0" title="0">{
        fmt.Printf("%v\n", strings.Repeat("-", width))
}</span>
</pre>
		
		<pre class="file" id="file6" style="display: none">package GoConsole

import (
        "fmt"
        "os"
        "regexp"
)

type Root struct {
        Init     func() error
        Commands map[string]Command
}

func (r *Root) Run() error <span class="cov0" title="0">{
        args := os.Args[1:]
        return r.run(args)
}</span>

func (r *Root) run(args []string) error <span class="cov8" title="1">{
        var err error
        cmd := ""

        if len(args) &gt; 0 </span><span class="cov8" title="1">{
                if args[0] == "help" || args[0] == "-h" </span><span class="cov0" title="0">{
                        r.PrintHelp()
                        return err
                }</span>

                <span class="cov8" title="1">if match, _ := regexp.MatchString("^-(\\w)", args[0]); !match </span><span class="cov8" title="1">{
                        cmd = args[0]
                        args = args[1:]
                }</span>
        }

        <span class="cov8" title="1">if _, found := r.Commands[cmd]; !found </span><span class="cov0" title="0">{
                return ErrSubCommandNotFound
        }</span>

        <span class="cov8" title="1">command := r.Commands[cmd]
        if err = command.Execute(args); err != nil </span><span class="cov0" title="0">{
                return err
        }</span>

        <span class="cov8" title="1">return nil</span>
}

func (r *Root) help() string <span class="cov0" title="0">{
        help := ""
        for key, cmd := range r.Commands </span><span class="cov0" title="0">{
                if key == "" </span><span class="cov0" title="0">{
                        help = help + fmt.Sprintf("- %s: ", Colored("&lt;yellow&gt;[With no SubCommand]&lt;/yellow&gt;"))
                }</span> else<span class="cov0" title="0"> {
                        help = help + fmt.Sprintf("- %s: ", Colored("&lt;yellow&gt;"+key+"&lt;/yellow&gt;"))
                }</span>
                <span class="cov0" title="0">help = help + fmt.Sprintf("%v\n", cmd.GetHelp())</span>
        }

        <span class="cov0" title="0">return help</span>
}

func (r *Root) PrintHelp() <span class="cov0" title="0">{
        fmt.Printf("%v", r.help())
}</span>
</pre>
		
		<pre class="file" id="file7" style="display: none">package main

import (
        "fmt"

        GoConsole "github.com/artziel/go-console"
)

type SubCommandAFlags struct {
        String  string `GoConsole:"name:str,usage:String value example"`
        Boolean bool   `GoConsole:"name:b,usage:Boolean value example"`
        Integer int    `GoConsole:"name:i,usage:Integer value example"`
}

func main() <span class="cov0" title="0">{
        root := GoConsole.Root{
                Commands: map[string]GoConsole.Command{
                        "": {
                                Help:    "Main Command",
                                Example: "$ sample",
                                Flags: &amp;SubCommandAFlags{
                                        String:  "test.yaml",
                                        Boolean: false,
                                        Integer: 123,
                                },
                                Run: func(args interface{}) error </span><span class="cov0" title="0">{
                                        flags := args.(*SubCommandAFlags)
                                        fmt.Printf("Main Command - Args: %v\n", flags)
                                        return nil
                                }</span>,
                        },
                        "SubCommandA": {
                                Help:    "SubCommand A",
                                Example: "$ sample SubCommandA",
                                Flags: &amp;SubCommandAFlags{
                                        String:  "test.yaml",
                                        Boolean: false,
                                        Integer: 123,
                                },
                                Run: func(args interface{}) error <span class="cov0" title="0">{
                                        flags := args.(*SubCommandAFlags)
                                        fmt.Printf("SubCommand A - Args: %v\n", flags)
                                        return nil
                                }</span>,
                        },
                },
        }

        <span class="cov0" title="0">if err := root.Run(); err != nil </span><span class="cov0" title="0">{
                fmt.Println(err.Error())
        }</span>
}
</pre>
		
		<pre class="file" id="file8" style="display: none">package main

import (
        "fmt"
        "time"

        GoConsole "github.com/artziel/go-console"
)

func main() <span class="cov0" title="0">{
        spinners := []*GoConsole.Spinner{
                GoConsole.Spinner01(),
                GoConsole.Spinner02(),
                GoConsole.Spinner03(),
                GoConsole.Spinner04(),
                GoConsole.Spinner05(),
                GoConsole.Spinner06(),
                GoConsole.Spinner07(),
                GoConsole.Spinner08(),
                GoConsole.Spinner09(),
        }

        for i, spinner := range spinners </span><span class="cov0" title="0">{
                spinner.SetColor("blue").SetPrefix(fmt.Sprintf("Spinner %d - Prefix ", i+1)).SetSufix(" Spinner Sufix").Start()
                time.Sleep(3 * time.Second)
                spinner.Stop()
                fmt.Printf("Spinner %d Stoped!\n", i+1)
        }</span>
}
</pre>
		
		<pre class="file" id="file9" style="display: none">package GoConsole

type SelectComponent struct {
        Options []string
}

func (c *SelectComponent) AddOption(label string) *SelectComponent <span class="cov0" title="0">{
        if c.Options == nil </span><span class="cov0" title="0">{
                c.Options = []string{label}
        }</span> else<span class="cov0" title="0"> {
                c.Options = append(c.Options, label)

        }</span>
        <span class="cov0" title="0">return c</span>
}

func (c *SelectComponent) printOptions() <span class="cov0" title="0">{

        for i, op := range c.Options </span><span class="cov0" title="0">{
                Printf("&lt;yellow&gt;%v)&lt;/yellow&gt; %v\n", i+1, op)
        }</span>
}

func (c *SelectComponent) Request(message string) int <span class="cov0" title="0">{

        c.printOptions()
        Printf(message)

        for </span><span class="cov0" title="0">{
                v := ScanInt()
                if v &lt;= len(c.Options) &amp;&amp; v &gt; 0 </span><span class="cov0" title="0">{
                        return v
                }</span>
        }
}

func NewSelect(options []string) SelectComponent <span class="cov0" title="0">{
        c := SelectComponent{
                Options: options,
        }

        return c
}</span>
</pre>
		
		<pre class="file" id="file10" style="display: none">package GoConsole

import (
        "fmt"
        "strings"
        "time"
)

type Spinner struct {
        // Public
        prefix string
        sufix  string
        Frames []string

        // Private
        delay        time.Duration
        currentFrame int
        color        string
        stop         chan struct{}
        drawLength   int
}

func (s *Spinner) draw() <span class="cov0" title="0">{

        frame := s.Frames[s.currentFrame]
        if s.color != "" </span><span class="cov0" title="0">{
                frame = Colored(fmt.Sprintf("&lt;"+s.color+"&gt;%s&lt;/"+s.color+"&gt;", s.Frames[s.currentFrame]))
        }</span>

        <span class="cov0" title="0">s.clear()
        Printf("%s%s%s", s.prefix, frame, s.sufix)

        s.currentFrame++
        if s.currentFrame == len(s.Frames) </span><span class="cov0" title="0">{
                s.currentFrame = 0
        }</span>
}

func (s *Spinner) SetDelay(delay time.Duration) *Spinner <span class="cov0" title="0">{
        s.delay = delay

        return s
}</span>

func (s *Spinner) SetPrefix(prefix string) *Spinner <span class="cov0" title="0">{
        s.prefix = prefix

        return s
}</span>

func (s *Spinner) SetSufix(sufix string) *Spinner <span class="cov0" title="0">{
        s.sufix = sufix

        return s
}</span>

func (s *Spinner) SetColor(color string) *Spinner <span class="cov0" title="0">{
        c := strings.ToLower(color)
        s.color = color

        colors := map[string]struct{}{
                "red":    {},
                "green":  {},
                "yellow": {},
                "blue":   {},
                "purple": {},
                "cyan":   {},
                "white":  {},
        }

        if _, found := colors[c]; found </span><span class="cov0" title="0">{
                s.color = color
        }</span>

        <span class="cov0" title="0">return s</span>
}

func (s *Spinner) Stop() <span class="cov0" title="0">{
        s.stop &lt;- struct{}{}
        close(s.stop)
}</span>

func (s *Spinner) clear() <span class="cov0" title="0">{
        fmt.Printf("\r%s\r", strings.Repeat(" ", s.drawLength))
}</span>

func (s *Spinner) Start() <span class="cov0" title="0">{
        s.stop = make(chan struct{})

        for _, frame := range s.Frames </span><span class="cov0" title="0">{
                if len(frame) &gt; s.drawLength </span><span class="cov0" title="0">{
                        s.drawLength = len(frame) + len(s.prefix) + len(s.sufix)
                }</span>
        }

        <span class="cov0" title="0">go func(spinner *Spinner) </span><span class="cov0" title="0">{
                fmt.Printf("\033[?25l")
                for </span><span class="cov0" title="0">{
                        select </span>{
                        case &lt;-s.stop:<span class="cov0" title="0">
                                s.clear()
                                fmt.Printf("\033[?25h")
                                return</span>
                        default:<span class="cov0" title="0">
                                s.draw()
                                time.Sleep(s.delay)</span>
                        }
                }
        }(s)
}
</pre>
		
		<pre class="file" id="file11" style="display: none">package GoConsole

import (
        "bytes"
        "fmt"
        "io"
        "log"
        "os"
        "sync"
)

type testRootFlags struct {
        String  string `GoConsole:"name:str,usage:String value example"`
        Boolean bool   `GoConsole:"name:b,usage:Boolean value example"`
        Integer int    `GoConsole:"name:i,usage:Integer value example"`
}

var command = Command{
        Help:    "Main Command",
        Example: "$ sample",
        Flags: &amp;testRootFlags{
                String:  "string test no subcommand",
                Boolean: false,
                Integer: 123,
        },
        Run: func(args interface{}) error <span class="cov8" title="1">{
                flags := args.(*testRootFlags)
                fmt.Printf("Main Command - Args: %v\n", flags)
                return nil
        }</span>,
}

var subCommand = Command{
        Help:    "SubCommand",
        Example: "$ sample SubCommand",
        Flags: &amp;testRootFlags{
                String:  "string test subcommand",
                Boolean: false,
                Integer: 123,
        },
        Run: func(args interface{}) error <span class="cov8" title="1">{
                flags := args.(*testRootFlags)
                fmt.Printf("SubCommand- Args: %v\n", flags)
                return nil
        }</span>,
}

func captureOutput(f func()) string <span class="cov8" title="1">{
        reader, writer, err := os.Pipe()
        if err != nil </span><span class="cov0" title="0">{
                panic(err)</span>
        }
        <span class="cov8" title="1">stdout := os.Stdout
        stderr := os.Stderr
        defer func() </span><span class="cov8" title="1">{
                os.Stdout = stdout
                os.Stderr = stderr
                log.SetOutput(os.Stderr)
        }</span>()
        <span class="cov8" title="1">os.Stdout = writer
        os.Stderr = writer
        log.SetOutput(writer)
        out := make(chan string)
        wg := new(sync.WaitGroup)
        wg.Add(1)
        go func() </span><span class="cov8" title="1">{
                var buf bytes.Buffer
                wg.Done()
                io.Copy(&amp;buf, reader)
                out &lt;- buf.String()
        }</span>()
        <span class="cov8" title="1">wg.Wait()
        f()
        writer.Close()
        return &lt;-out</span>
}
</pre>
		
		<pre class="file" id="file12" style="display: none">package GoConsole

import (
        "bufio"
        "fmt"
        "os"
        "os/exec"
        "runtime"
        "strconv"
        "strings"
)

func ScanString() string <span class="cov0" title="0">{
        reader := bufio.NewReader(os.Stdin)
        text, _ := reader.ReadString('\n')
        text = strings.TrimSuffix(text, "\n")
        return text
}</span>

func ScanInt() int <span class="cov0" title="0">{
        reader := bufio.NewReader(os.Stdin)
        input, _ := reader.ReadString('\n')
        input = strings.TrimSuffix(input, "\n")

        if v, err := strconv.Atoi(input); err == nil </span><span class="cov0" title="0">{
                return v
        }</span>

        <span class="cov0" title="0">return 0</span>
}

func WaitForEnter(msg string) <span class="cov0" title="0">{
        Println(msg)
        var input string
        fmt.Scanln(&amp;input)
}</span>

func windowsClearTerm() <span class="cov0" title="0">{
        cmd := exec.Command("cmd", "/c", "cls")
        cmd.Stdout = os.Stdout
        cmd.Run()
}</span>

func linuxClearTerm() <span class="cov0" title="0">{
        cmd := exec.Command("clear")
        cmd.Stdout = os.Stdout
        cmd.Run()
}</span>

func Clear() <span class="cov0" title="0">{
        cmds := map[string]func(){
                "windows": windowsClearTerm,
                "linux":   linuxClearTerm,
        }

        value, ok := cmds[runtime.GOOS]
        if ok </span><span class="cov0" title="0">{
                value()
        }</span>
}

func formatToWidth(str string, width int) string <span class="cov0" title="0">{
        result := ""

        words := strings.Split(str, " ")
        line := ""
        for _, word := range words </span><span class="cov0" title="0">{
                if len([]rune(line))+len([]rune(word))+1 &gt; width </span><span class="cov0" title="0">{
                        result = result + "\n" + line
                        line = word + " "
                }</span> else<span class="cov0" title="0"> {
                        line = line + word + " "
                }</span>
        }

        <span class="cov0" title="0">result = result + "\n" + strings.TrimRight(line, " ")

        return result</span>
}

func FormatParagraph(str string, width int) string <span class="cov0" title="0">{
        result := ""

        ps := strings.Split(str, "\n")

        for _, p := range ps </span><span class="cov0" title="0">{
                result = result + formatToWidth(p, width)
        }</span>

        <span class="cov0" title="0">return result</span>
}

func PrintParagraph(str string, width int) <span class="cov0" title="0">{
        Print(FormatParagraph(str, width))
}</span>

func Print(str string) <span class="cov0" title="0">{
        fmt.Print(Colored(str))
}</span>

func Println(str string) <span class="cov0" title="0">{
        fmt.Println(Colored(str))
}</span>

func Printf(format string, values ...interface{}) <span class="cov0" title="0">{
        fmt.Printf(Colored(format), values...)
}</span>
</pre>
		
		</div>
	</body>
	<script>
	(function() {
		var files = document.getElementById('files');
		var visible;
		files.addEventListener('change', onChange, false);
		function select(part) {
			if (visible)
				visible.style.display = 'none';
			visible = document.getElementById(part);
			if (!visible)
				return;
			files.value = part;
			visible.style.display = 'block';
			location.hash = part;
		}
		function onChange() {
			select(files.value);
			window.scrollTo(0, 0);
		}
		if (location.hash != "") {
			select(location.hash.substr(1));
		}
		if (!visible) {
			select("file0");
		}
	})();
	</script>
</html>
